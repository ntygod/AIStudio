# InkFlow 生产环境配置模板
# 复制此文件为 .env.production 并填写实际值

# ============================================
# 数据库配置
# ============================================
DB_HOST=your-db-host
DB_PORT=5432
DB_NAME=inkflow_prod
DB_USER=inkflow_user
DB_PASSWORD=your-secure-password-change-this

# ============================================
# Redis 配置
# ============================================
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password-change-this

# ============================================
# 安全配置
# ============================================
# JWT Secret（至少 256 位）
# 生成方法：openssl rand -base64 32
JWT_SECRET=your-256-bit-secret-key-change-this-in-production

# 加密密钥（32 字节十六进制）
# 生成方法：openssl rand -hex 32
ENCRYPTION_KEY=your-32-byte-hex-encryption-key-change-this

# ============================================
# AI 提供商配置（可选，用户可在应用内配置）
# ============================================
GEMINI_API_KEY=
OPENAI_API_KEY=
DEEPSEEK_API_KEY=

# ============================================
# 短信配置（如果使用阿里云）
# ============================================
SMS_PROVIDER=mock
# 使用阿里云时设置为 aliyun
# SMS_PROVIDER=aliyun
SMS_ALIYUN_ACCESS_KEY=
SMS_ALIYUN_SECRET_KEY=
SMS_ALIYUN_SIGN_NAME=InkFlow

# ============================================
# 邮件配置（SMTP）
# ============================================
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password

# ============================================
# 应用配置
# ============================================
SERVER_PORT=8080
CORS_ALLOWED_ORIGINS=https://your-domain.com

# ============================================
# 前端配置
# ============================================
VITE_API_BASE_URL=https://api.your-domain.com

# ============================================
# 监控配置（可选）
# ============================================
# SENTRY_DSN=
# PROMETHEUS_ENABLED=true

# ============================================
# 备份配置
# ============================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *

# ============================================
# 性能配置
# ============================================
# JVM 参数
JAVA_OPTS=-Xmx2g -Xms2g -XX:+UseG1GC

# 数据库连接池
DB_POOL_SIZE=20
DB_POOL_MAX_LIFETIME=1800000

# Redis 连接池
REDIS_POOL_SIZE=10

# ============================================
# 日志配置
# ============================================
LOG_LEVEL=INFO
LOG_FILE=/var/log/inkflow/application.log

# ============================================
# 速率限制配置
# ============================================
RATE_LIMIT_AI_REQUESTS=10
RATE_LIMIT_API_REQUESTS=100

# ============================================
# Token 使用监控
# ============================================
USAGE_CLEANUP_ENABLED=true
USAGE_RETENTION_DAYS=30

# ============================================
# RAG 配置
# ============================================
RAG_EMBEDDING_BATCH_SIZE=10
RAG_SEARCH_TOP_K=5
RAG_HYBRID_SEMANTIC_WEIGHT=0.7
RAG_HYBRID_KEYWORD_WEIGHT=0.3
